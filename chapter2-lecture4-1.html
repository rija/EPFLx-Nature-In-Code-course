<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<script>

		precision = 2;

		// Generation 0

		// Genotype frequencies
		var a1a1 = 0.15;
		var a2a2 = 0.35;
		var a1a2 = 1 - (a1a1 + a2a2);

		// Allele frequencies
		var p = a1a1  + (a1a2/2);
		var q = 1 - p ;

		console.log("Generation 0:", round_number(a1a1,precision), round_number(a1a2, precision), round_number(a2a2, precision));

		function round_number(value, decimals) {
			var shifter = Math.pow(10,decimals);
			return Math.round(value*shifter)/shifter;
		}

		function createNextGeneration() {

			a1a1 = p*p ;
			a1a2 = 2*p*q ;
			a2a2 = q*q ;
		}



		for (generation = 0 ; generation < 5 ; generation++) {
			createNextGeneration();
			console.log("Generation "+(generation+1)+":", round_number(a1a1, precision), round_number(a1a2, precision), round_number(a2a2, precision));
		}

	</script>
</head>

<body>
Hello world.
</body>

</html>